<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Measurement â€¢ qss</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">qss</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/causality.html">Causality</a>
    </li>
    <li>
      <a href="../articles/discovery.html">Discovery</a>
    </li>
    <li>
      <a href="../articles/intro.html">Intro</a>
    </li>
    <li>
      <a href="../articles/measurement.html">Measurement</a>
    </li>
    <li>
      <a href="../articles/prediction.html">Prediction</a>
    </li>
    <li>
      <a href="../articles/probability.html">Probability</a>
    </li>
    <li>
      <a href="../articles/uncertainty.html">Uncertainty</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Measurement</h1>
            
          </div>

    
    
<div class="contents">
<div id="chapter-3-measurement" class="section level1">
<h1 class="hasAnchor">
<a href="#chapter-3-measurement" class="anchor"></a>Chapter 3: Measurement</h1>
<div id="section-3-1-measuring-civilian-victimization-during-wartime" class="section level2">
<h2 class="hasAnchor">
<a href="#section-3-1-measuring-civilian-victimization-during-wartime" class="anchor"></a>Section 3.1: Measuring Civilian Victimization during Wartime</h2>
<pre class="sourceCode r"><code class="sourceCode r">## load data
<span class="kw">data</span>(<span class="st">"afghan"</span>, <span class="dt">package =</span> <span class="st">"qss"</span>)

## summarize variables of interest
<span class="kw">summary</span>(afghan$age)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   15.00   22.00   30.00   32.39   40.00   80.00</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(afghan$educ.years)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   0.000   0.000   1.000   4.002   8.000  18.000</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(afghan$employed)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.0000  1.0000  0.5828  1.0000  1.0000</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(afghan$income)</code></pre>
<pre><code>##    Length     Class      Mode 
##      2754 character character</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prop.table</span>(<span class="kw">table</span>(<span class="dt">ISAF =</span> afghan$violent.exp.ISAF,
                 <span class="dt">Taliban =</span> afghan$violent.exp.taliban))</code></pre>
<pre><code>##     Taliban
## ISAF         0         1
##    0 0.4953445 0.1318436
##    1 0.1769088 0.1959032</code></pre>
</div>
<div id="section-3-2-handling-missing-data-in-r" class="section level2">
<h2 class="hasAnchor">
<a href="#section-3-2-handling-missing-data-in-r" class="anchor"></a>Section 3.2: Handling Missing Data in R</h2>
<pre class="sourceCode r"><code class="sourceCode r">## print income data for first 10 respondents
<span class="kw">head</span>(afghan$income, <span class="dt">n =</span> <span class="dv">10</span>)</code></pre>
<pre><code>##  [1] "2,001-10,000"  "2,001-10,000"  "2,001-10,000"  "2,001-10,000" 
##  [5] "2,001-10,000"  NA              "10,001-20,000" "2,001-10,000" 
##  [9] "2,001-10,000"  NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## indicate whether respondents' income is missing
<span class="kw">head</span>(<span class="kw">is.na</span>(afghan$income), <span class="dt">n =</span> <span class="dv">10</span>)</code></pre>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="kw">is.na</span>(afghan$income))  <span class="co"># count of missing values</span></code></pre>
<pre><code>## [1] 154</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(<span class="kw">is.na</span>(afghan$income)) <span class="co"># proportion missing</span></code></pre>
<pre><code>## [1] 0.05591866</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="ot">NA</span>)
<span class="kw">mean</span>(x)</code></pre>
<pre><code>## [1] NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prop.table</span>(<span class="kw">table</span>(<span class="dt">ISAF =</span> afghan$violent.exp.ISAF,
                 <span class="dt">Taliban =</span> afghan$violent.exp.taliban, <span class="dt">exclude =</span> <span class="ot">NULL</span>))</code></pre>
<pre><code>##       Taliban
## ISAF             0           1        &lt;NA&gt;
##   0    0.482933914 0.128540305 0.007988381
##   1    0.172476398 0.190994916 0.007988381
##   &lt;NA&gt; 0.002541757 0.002904866 0.003631082</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">afghan.sub &lt;-<span class="st"> </span><span class="kw">na.omit</span>(afghan)  <span class="co"># listwise deletion</span>
<span class="kw">nrow</span>(afghan.sub)</code></pre>
<pre><code>## [1] 2554</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(<span class="kw">na.omit</span>(afghan$income))</code></pre>
<pre><code>## [1] 2600</code></pre>
</div>
<div id="section-3-3-visualizating-the-univariate-distribution" class="section level2">
<h2 class="hasAnchor">
<a href="#section-3-3-visualizating-the-univariate-distribution" class="anchor"></a>Section 3.3: Visualizating the Univariate Distribution</h2>
<div id="section-3-3-1-bar-plot" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-3-1-bar-plot" class="anchor"></a>Section 3.3.1: Bar Plot</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)

## a vector of proportions to plot
ISAF.ptable &lt;-<span class="st"> </span><span class="kw">prop.table</span>(<span class="kw">table</span>(<span class="dt">ISAF =</span> afghan$violent.exp.ISAF,
                                <span class="dt">exclude =</span> <span class="ot">NULL</span>))
ISAF.ptable</code></pre>
<pre><code>## ISAF
##           0           1        &lt;NA&gt; 
## 0.619462600 0.371459695 0.009077705</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## make barplots by specifying a certain range for y-axis
<span class="kw">barplot</span>(ISAF.ptable,
        <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">"No harm"</span>, <span class="st">"Harm"</span>, <span class="st">"Nonresponse"</span>),
        <span class="dt">main =</span> <span class="st">"Civilian victimization by the ISAF"</span>,
        <span class="dt">xlab =</span> <span class="st">"Response category"</span>,
        <span class="dt">ylab =</span> <span class="st">"Proportion of the respondents"</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.7</span>))</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r">## repeat the same for the victimization by Taliban
Taliban.ptable &lt;-<span class="st"> </span><span class="kw">prop.table</span>(<span class="kw">table</span>(<span class="dt">Taliban =</span> afghan$violent.exp.taliban,
                         <span class="dt">exclude =</span> <span class="ot">NULL</span>))
<span class="kw">barplot</span>(Taliban.ptable,
        <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">"No harm"</span>, <span class="st">"Harm"</span>, <span class="st">"Nonresponse"</span>),
        <span class="dt">main =</span> <span class="st">"Civilian victimization by the Taliban"</span>,
        <span class="dt">xlab =</span> <span class="st">"Response category"</span>,
        <span class="dt">ylab =</span> <span class="st">"Proportion of the respondents"</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.7</span>))</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-3-2.png" width="672"></p>
</div>
<div id="section-3-3-2-histogram" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-3-2-histogram" class="anchor"></a>Section 3.3.2: Histogram</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)
<span class="kw">hist</span>(afghan$age, <span class="dt">freq =</span> <span class="ot">FALSE</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.04</span>), <span class="dt">xlab =</span> <span class="st">"Age"</span>,
     <span class="dt">main =</span> <span class="st">"Distribution of respondent's age"</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)
## histogram of education.  use `breaks' to choose bins
<span class="kw">hist</span>(afghan$educ.years, <span class="dt">freq =</span> <span class="ot">FALSE</span>,
     <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dt">from =</span> -<span class="fl">0.5</span>, <span class="dt">to =</span> <span class="fl">18.5</span>, <span class="dt">by =</span> <span class="dv">1</span>),
     <span class="dt">xlab =</span> <span class="st">"Years of education"</span>,
     <span class="dt">main =</span> <span class="st">"Distribution of respondent's education"</span>)

## add a text label at (x, y) = (3, 0.5)
<span class="kw">text</span>(<span class="dt">x =</span> <span class="dv">3</span>, <span class="dt">y =</span> <span class="fl">0.5</span>, <span class="st">"median"</span>)

## add a vertical line representing median
<span class="kw">abline</span>(<span class="dt">v =</span> <span class="kw">median</span>(afghan$educ.years))

## adding a vertical line representing median
<span class="kw">lines</span>(<span class="dt">x =</span> <span class="kw">rep</span>(<span class="kw">median</span>(afghan$educ.years), <span class="dv">2</span>), <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>))</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-4-2.png" width="672"></p>
</div>
<div id="section-3-3-3-box-plot" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-3-3-box-plot" class="anchor"></a>Section 3.3.3: Box Plot</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.25</span>)
<span class="kw">boxplot</span>(educ.years ~<span class="st"> </span>province, <span class="dt">data =</span> afghan,
        <span class="dt">main =</span> <span class="st">"Education by province"</span>, <span class="dt">ylab =</span> <span class="st">"Years of education"</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tapply</span>(afghan$violent.exp.taliban, afghan$province, mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>##    Helmand      Khost      Kunar      Logar    Uruzgan 
## 0.50422195 0.23322684 0.30303030 0.08024691 0.45454545</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tapply</span>(afghan$violent.exp.ISAF, afghan$province, mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre>
<pre><code>##   Helmand     Khost     Kunar     Logar   Uruzgan 
## 0.5410226 0.2424242 0.3989899 0.1440329 0.4960422</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## Saving or Printing a Graph

## pdf(file = "educ.pdf", height = 5, width = 5)
## boxplot(educ.years ~ province, data = afghan,
##         main = "Education by Province", ylab = "Years of education")
## dev.off()
## pdf(file = "hist.pdf", height = 4, width = 8)
## ## one row with 2 plots with font size 0.8
## par(mfrow = c(1, 2), cex = 0.8)
## ## for simplicity omit the texts and lines from the earlier example
## hist(afghan$age, freq = FALSE,
##      xlab = "Age", ylim = c(0, 0.04),
##      main = "Distribution of Respondent's Age")
## hist(afghan$educ.years, freq = FALSE,
##      breaks = seq(from = -0.5, to = 18.5, by = 1),
##      xlab = "Years of education", xlim = c(0, 20),
##      main = "Distribution of Respondent's Education")
## dev.off()</code></pre>
</div>
</div>
<div id="section-3-4-survey-sampling" class="section level2">
<h2 class="hasAnchor">
<a href="#section-3-4-survey-sampling" class="anchor"></a>Section 3.4: Survey Sampling</h2>
<div id="section-3-4-1-the-role-of-randomization" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-4-1-the-role-of-randomization" class="anchor"></a>Section 3.4.1: The Role of Randomization</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)

## load village data
<span class="kw">data</span>(<span class="st">"afghan.village"</span>, <span class="dt">package =</span> <span class="st">"qss"</span>)

## boxplots for altitude
<span class="kw">boxplot</span>(altitude ~<span class="st"> </span>village.surveyed, <span class="dt">data =</span> afghan.village,
        <span class="dt">ylab =</span> <span class="st">"Altitude (meter)"</span>, <span class="dt">names =</span> <span class="kw">c</span>(<span class="st">"Nonsampled"</span>, <span class="st">"Sampled"</span>))</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r">## boxplots for log population
<span class="kw">boxplot</span>(<span class="kw">log</span>(population) ~<span class="st"> </span>village.surveyed, <span class="dt">data =</span> afghan.village,
        <span class="dt">ylab =</span> <span class="st">"log population"</span>, <span class="dt">names =</span> <span class="kw">c</span>(<span class="st">"Nonsampled"</span>, <span class="st">"Sampled"</span>))</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-6-2.png" width="672"></p>
</div>
<div id="section-3-4-2-nonresponse-and-other-sources-of-bias" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-4-2-nonresponse-and-other-sources-of-bias" class="anchor"></a>Section 3.4.2: Nonresponse and Other Sources of Bias</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tapply</span>(<span class="kw">is.na</span>(afghan$violent.exp.taliban), afghan$province, mean)</code></pre>
<pre><code>##     Helmand       Khost       Kunar       Logar     Uruzgan 
## 0.030409357 0.006349206 0.000000000 0.000000000 0.062015504</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tapply</span>(<span class="kw">is.na</span>(afghan$violent.exp.ISAF), afghan$province, mean)</code></pre>
<pre><code>##     Helmand       Khost       Kunar       Logar     Uruzgan 
## 0.016374269 0.004761905 0.000000000 0.000000000 0.020671835</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(afghan$list.response[afghan$list.group ==<span class="st"> "ISAF"</span>]) -
<span class="st">    </span><span class="kw">mean</span>(afghan$list.response[afghan$list.group ==<span class="st"> "control"</span>])</code></pre>
<pre><code>## [1] 0.04901961</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(<span class="dt">response =</span> afghan$list.response, <span class="dt">group =</span> afghan$list.group)</code></pre>
<pre><code>##         group
## response control ISAF taliban
##        0     188  174       0
##        1     265  278     433
##        2     265  260     287
##        3     200  182     198
##        4       0   24       0</code></pre>
</div>
</div>
<div id="section-3-5-measuring-political-polarization" class="section level2">
<h2 class="hasAnchor">
<a href="#section-3-5-measuring-political-polarization" class="anchor"></a>Section 3.5: Measuring Political Polarization</h2>
</div>
<div id="section-3-6-summarizing-bivariate-relationships" class="section level2">
<h2 class="hasAnchor">
<a href="#section-3-6-summarizing-bivariate-relationships" class="anchor"></a>Section 3.6: Summarizing Bivariate Relationships</h2>
<div id="section-3-6-1-scatter-plot" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-6-1-scatter-plot" class="anchor"></a>Section 3.6.1: Scatter Plot</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">"congress"</span>, <span class="dt">package =</span> <span class="st">"qss"</span>)

## subset the data by party
rep &lt;-<span class="st"> </span><span class="kw">subset</span>(congress, <span class="dt">subset =</span> (party ==<span class="st"> "Republican"</span>))
dem &lt;-<span class="st"> </span>congress[congress$party ==<span class="st"> "Democrat"</span>, ] <span class="co"># another way to subset</span>

## 80th and 112th congress
rep80 &lt;-<span class="st"> </span><span class="kw">subset</span>(rep, <span class="dt">subset =</span> (congress ==<span class="st"> </span><span class="dv">80</span>))
dem80 &lt;-<span class="st"> </span><span class="kw">subset</span>(dem, <span class="dt">subset =</span> (congress ==<span class="st"> </span><span class="dv">80</span>))
rep112 &lt;-<span class="st"> </span><span class="kw">subset</span>(rep, <span class="dt">subset =</span> (congress ==<span class="st"> </span><span class="dv">112</span>))
dem112 &lt;-<span class="st"> </span><span class="kw">subset</span>(dem, <span class="dt">subset =</span> (congress ==<span class="st"> </span><span class="dv">112</span>))

## preparing the labels and axis limits to avoid repetition
xlab &lt;-<span class="st"> "Economic liberalism/conservatism"</span>
ylab &lt;-<span class="st"> "Racial liberalism/conservatism"</span>
lim &lt;-<span class="st"> </span><span class="kw">c</span>(-<span class="fl">1.5</span>, <span class="fl">1.5</span>)

<span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)
## scatterplot for the 80th Congress
<span class="kw">plot</span>(dem80$dwnom1, dem80$dwnom2, <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">col =</span> <span class="st">"blue"</span>,
     <span class="dt">xlim =</span> lim, <span class="dt">ylim =</span> lim, <span class="dt">xlab =</span> xlab, <span class="dt">ylab =</span> ylab,
     <span class="dt">main =</span> <span class="st">"80th Congress"</span>) <span class="co"># democrats</span>
<span class="kw">points</span>(rep80$dwnom1, rep80$dwnom2, <span class="dt">pch =</span> <span class="dv">17</span>, <span class="dt">col =</span> <span class="st">"red"</span>) <span class="co"># republicans</span>
<span class="kw">text</span>(-<span class="fl">0.75</span>, <span class="dv">1</span>, <span class="st">"Democrats"</span>)
<span class="kw">text</span>(<span class="dv">1</span>, -<span class="dv">1</span>, <span class="st">"Republicans"</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r">## scatterplot for the 112th Congress
<span class="kw">plot</span>(dem112$dwnom1, dem112$dwnom2, <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">col =</span> <span class="st">"blue"</span>,
     <span class="dt">xlim =</span> lim, <span class="dt">ylim =</span> lim, <span class="dt">xlab =</span> xlab, <span class="dt">ylab =</span> ylab,
     <span class="dt">main =</span> <span class="st">"112th Congress"</span>)
<span class="kw">points</span>(rep112$dwnom1, rep112$dwnom2, <span class="dt">pch =</span> <span class="dv">17</span>, <span class="dt">col =</span> <span class="st">"red"</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-8-2.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r">## party median for each congress
dem.median &lt;-<span class="st"> </span><span class="kw">tapply</span>(dem$dwnom1, dem$congress, median)
rep.median &lt;-<span class="st"> </span><span class="kw">tapply</span>(rep$dwnom1, rep$congress, median)

<span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)
## Democrats
<span class="kw">plot</span>(<span class="kw">names</span>(dem.median), dem.median, <span class="dt">col =</span> <span class="st">"blue"</span>, <span class="dt">type =</span> <span class="st">"l"</span>,
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">80</span>, <span class="dv">115</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(-<span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">xlab =</span> <span class="st">"Congress"</span>,
     <span class="dt">ylab =</span> <span class="st">"DW-NOMINATE score (1st dimension)"</span>)
## add Republicans
<span class="kw">lines</span>(<span class="kw">names</span>(rep.median), rep.median, <span class="dt">col =</span> <span class="st">"red"</span>)
<span class="kw">text</span>(<span class="dv">110</span>, -<span class="fl">0.6</span>, <span class="st">"Democratic</span><span class="ch">\n</span><span class="st"> Party"</span>)
<span class="kw">text</span>(<span class="dv">110</span>, <span class="fl">0.85</span>, <span class="st">"Republican</span><span class="ch">\n</span><span class="st"> Party"</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-8-3.png" width="672"></p>
</div>
<div id="section-3-6-2-correlation" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-6-2-correlation" class="anchor"></a>Section 3.6.2: Correlation</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)
## Gini coefficient data
<span class="kw">data</span>(<span class="st">"USGini"</span>, <span class="dt">package =</span> <span class="st">"qss"</span>)

## time-series plot for partisan difference
<span class="kw">plot</span>(<span class="kw">seq</span>(<span class="dt">from =</span> <span class="fl">1947.5</span>, <span class="dt">to =</span> <span class="fl">2011.5</span>, <span class="dt">by =</span> <span class="dv">2</span>),
     rep.median -<span class="st"> </span>dem.median, <span class="dt">xlab =</span> <span class="st">"Year"</span>,
     <span class="dt">ylab =</span> <span class="st">"Republican median -</span><span class="ch">\n</span><span class="st"> Democratic median"</span>,
     <span class="dt">main =</span> <span class="st">"Political polarization"</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r">## time-series plot for Gini coefficient
<span class="kw">plot</span>(USGini$year, USGini$gini, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="fl">0.35</span>, <span class="fl">0.45</span>), <span class="dt">xlab =</span> <span class="st">"Year"</span>,
     <span class="dt">ylab =</span> <span class="st">"Gini coefficient"</span>, <span class="dt">main =</span> <span class="st">"Income inequality"</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-9-2.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cor</span>(USGini$gini[<span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">2</span>, <span class="dt">to =</span> <span class="kw">nrow</span>(USGini), <span class="dt">by =</span> <span class="dv">2</span>)],
    rep.median -<span class="st"> </span>dem.median)</code></pre>
<pre><code>## [1] 0.9418128</code></pre>
</div>
<div id="section-3-6-3-quantile-quantile-plot" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-6-3-quantile-quantile-plot" class="anchor"></a>Section 3.6.3: Quantile-Quantile Plot</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)
<span class="kw">hist</span>(dem112$dwnom2, <span class="dt">freq =</span> <span class="ot">FALSE</span>, <span class="dt">main =</span> <span class="st">"Democrats"</span>,
     <span class="dt">xlim =</span> <span class="kw">c</span>(-<span class="fl">1.5</span>, <span class="fl">1.5</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">1.75</span>),
     <span class="dt">xlab =</span> <span class="st">"Racial liberalism/conservatism dimension"</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(rep112$dwnom2, <span class="dt">freq =</span> <span class="ot">FALSE</span>, <span class="dt">main =</span> <span class="st">"Republicans"</span>,
     <span class="dt">xlim =</span> <span class="kw">c</span>(-<span class="fl">1.5</span>, <span class="fl">1.5</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">1.75</span>),
     <span class="dt">xlab =</span> <span class="st">"Racial liberalism/conservatism dimension"</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-10-2.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)
<span class="kw">qqplot</span>(dem112$dwnom2, rep112$dwnom2, <span class="dt">xlab =</span> <span class="st">"Democrats"</span>,
       <span class="dt">ylab =</span> <span class="st">"Republicans"</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(-<span class="fl">1.5</span>, <span class="fl">1.5</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(-<span class="fl">1.5</span>, <span class="fl">1.5</span>),
       <span class="dt">main =</span> <span class="st">"Racial liberalism/conservatism dimension"</span>)
<span class="kw">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="co"># 45 degree line</span></code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-10-3.png" width="672"></p>
</div>
</div>
<div id="section-3-7-clustering" class="section level2">
<h2 class="hasAnchor">
<a href="#section-3-7-clustering" class="anchor"></a>Section 3.7: Clustering</h2>
<pre class="sourceCode r"><code class="sourceCode r">## 3x4 matrix filled by row; first argument take actual entries
x &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">12</span>, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">4</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)
<span class="kw">rownames</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)
<span class="kw">colnames</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"d"</span>, <span class="st">"e"</span>, <span class="st">"f"</span>, <span class="st">"g"</span>)
<span class="kw">dim</span>(x) <span class="co"># dimension</span></code></pre>
<pre><code>## [1] 3 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x</code></pre>
<pre><code>##   d  e  f  g
## a 1  2  3  4
## b 5  6  7  8
## c 9 10 11 12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## data frame can take different data types
y &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">y1 =</span> <span class="kw">as.factor</span>(<span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)), <span class="dt">y2 =</span> <span class="kw">c</span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>))
<span class="kw">class</span>(y$y1)</code></pre>
<pre><code>## [1] "factor"</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(y$y2)</code></pre>
<pre><code>## [1] "numeric"</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## as.matrix() converts both variables to character
z &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(y)
z</code></pre>
<pre><code>##      y1  y2   
## [1,] "a" "0.1"
## [2,] "b" "0.2"
## [3,] "c" "0.3"</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## column sums
<span class="kw">colSums</span>(x)</code></pre>
<pre><code>##  d  e  f  g 
## 15 18 21 24</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## row means
<span class="kw">rowMeans</span>(x)</code></pre>
<pre><code>##    a    b    c 
##  2.5  6.5 10.5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## column sums
<span class="kw">apply</span>(x, <span class="dv">2</span>, sum)</code></pre>
<pre><code>##  d  e  f  g 
## 15 18 21 24</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## row means
<span class="kw">apply</span>(x, <span class="dv">1</span>, mean)</code></pre>
<pre><code>##    a    b    c 
##  2.5  6.5 10.5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## standard deviation for each row
<span class="kw">apply</span>(x, <span class="dv">1</span>, sd)</code></pre>
<pre><code>##        a        b        c 
## 1.290994 1.290994 1.290994</code></pre>
<div id="section-3-7-2-list-in-r" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-7-2-list-in-r" class="anchor"></a>Section 3.7.2: List in R</h3>
<pre class="sourceCode r"><code class="sourceCode r">## create a list
x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">y1 =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">y2 =</span> <span class="kw">c</span>(<span class="st">"hi"</span>, <span class="st">"hello"</span>, <span class="st">"hey"</span>),
          <span class="dt">y3 =</span> <span class="kw">data.frame</span>(<span class="dt">z1 =</span> <span class="dv">1</span>:<span class="dv">3</span>, <span class="dt">z2 =</span> <span class="kw">c</span>(<span class="st">"good"</span>, <span class="st">"bad"</span>, <span class="st">"ugly"</span>)))
## 3 ways of extracting elements from a list
x$y1 <span class="co"># first element</span></code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[[<span class="dv">2</span>]] <span class="co"># second element</span></code></pre>
<pre><code>## [1] "hi"    "hello" "hey"</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[[<span class="st">"y3"</span>]] <span class="co"># third element</span></code></pre>
<pre><code>##   z1   z2
## 1  1 good
## 2  2  bad
## 3  3 ugly</code></pre>
</div>
<div id="section-3-7-3-the-k-means-algorithm" class="section level3">
<h3 class="hasAnchor">
<a href="#section-3-7-3-the-k-means-algorithm" class="anchor"></a>Section 3.7.3: The k-Means Algorithm</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(x)  <span class="co"># names of all elements</span></code></pre>
<pre><code>## [1] "y1" "y2" "y3"</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(x) <span class="co"># number of elements</span></code></pre>
<pre><code>## [1] 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">dwnom80 &lt;-<span class="st"> </span><span class="kw">cbind</span>(congress$dwnom1[congress$congress ==<span class="st"> </span><span class="dv">80</span>],
                 congress$dwnom2[congress$congress ==<span class="st"> </span><span class="dv">80</span>])
dwnom112 &lt;-<span class="st"> </span><span class="kw">cbind</span>(congress$dwnom1[congress$congress ==<span class="st"> </span><span class="dv">112</span>],
                 congress$dwnom2[congress$congress ==<span class="st"> </span><span class="dv">112</span>])

## kmeans with 2 clusters
k80two.out &lt;-<span class="st"> </span><span class="kw">kmeans</span>(dwnom80, <span class="dt">centers =</span> <span class="dv">2</span>, <span class="dt">nstart =</span> <span class="dv">5</span>)
k112two.out &lt;-<span class="st"> </span><span class="kw">kmeans</span>(dwnom112, <span class="dt">centers =</span> <span class="dv">2</span>, <span class="dt">nstart =</span> <span class="dv">5</span>)

## elements of a list
<span class="kw">names</span>(k80two.out)</code></pre>
<pre><code>## [1] "cluster"      "centers"      "totss"        "withinss"    
## [5] "tot.withinss" "betweenss"    "size"         "iter"        
## [9] "ifault"</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## final centroids
k80two.out$centers</code></pre>
<pre><code>##          [,1]       [,2]
## 1  0.14681029 -0.3389293
## 2 -0.04843704  0.7827259</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">k112two.out$centers</code></pre>
<pre><code>##         [,1]       [,2]
## 1 -0.3912687 0.03260696
## 2  0.6776736 0.09061157</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## number of observations for each cluster by party
<span class="kw">table</span>(<span class="dt">party =</span> congress$party[congress$congress ==<span class="st"> </span><span class="dv">80</span>],
      <span class="dt">cluster =</span> k80two.out$cluster)</code></pre>
<pre><code>##             cluster
## party          1   2
##   Democrat    62 132
##   Other        2   0
##   Republican 247   3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(<span class="dt">party =</span> congress$party[congress$congress ==<span class="st"> </span><span class="dv">112</span>],
      <span class="dt">cluster =</span> k112two.out$cluster)</code></pre>
<pre><code>##             cluster
## party          1   2
##   Democrat   200   0
##   Republican   1 242</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">## kmeans with 4 clusters
k80four.out &lt;-<span class="st"> </span><span class="kw">kmeans</span>(dwnom80, <span class="dt">centers =</span> <span class="dv">4</span>, <span class="dt">nstart =</span> <span class="dv">5</span>)
k112four.out &lt;-<span class="st"> </span><span class="kw">kmeans</span>(dwnom112, <span class="dt">centers =</span> <span class="dv">4</span>, <span class="dt">nstart =</span> <span class="dv">5</span>)

<span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">1.5</span>)
## plotting the results using the labels and limits defined earlier
<span class="kw">plot</span>(dwnom80, <span class="dt">col =</span> k80four.out$cluster +<span class="st"> </span><span class="dv">1</span>, <span class="dt">xlab =</span> xlab, <span class="dt">ylab =</span> ylab,
     <span class="dt">xlim =</span> lim, <span class="dt">ylim =</span> lim, <span class="dt">main =</span> <span class="st">"80th Congress"</span>)

## plotting the centroids
<span class="kw">points</span>(k80four.out$centers, <span class="dt">pch =</span> <span class="dv">8</span>, <span class="dt">cex =</span> <span class="dv">2</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r">## 112th congress
<span class="kw">plot</span>(dwnom112, <span class="dt">col =</span> k112four.out$cluster +<span class="st"> </span><span class="dv">1</span>, <span class="dt">xlab =</span> xlab, <span class="dt">ylab =</span> ylab,
     <span class="dt">xlim =</span> lim, <span class="dt">ylim =</span> lim, <span class="dt">main =</span> <span class="st">"112th Congress"</span>)
<span class="kw">points</span>(k112four.out$centers, <span class="dt">pch =</span> <span class="dv">8</span>, <span class="dt">cex =</span> <span class="dv">2</span>)</code></pre>
<p><img src="measurement_files/figure-html/unnamed-chunk-13-2.png" width="672"></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">palette</span>()</code></pre>
<pre><code>## [1] "black"   "red"     "green3"  "blue"    "cyan"    "magenta" "yellow" 
## [8] "gray"</code></pre>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#chapter-3-measurement">Chapter 3: Measurement</a><ul class="nav nav-pills nav-stacked">
<li><a href="#section-3-1-measuring-civilian-victimization-during-wartime">Section 3.1: Measuring Civilian Victimization during Wartime</a></li>
      <li><a href="#section-3-2-handling-missing-data-in-r">Section 3.2: Handling Missing Data in R</a></li>
      <li><a href="#section-3-3-visualizating-the-univariate-distribution">Section 3.3: Visualizating the Univariate Distribution</a></li>
      <li><a href="#section-3-4-survey-sampling">Section 3.4: Survey Sampling</a></li>
      <li><a href="#section-3-5-measuring-political-polarization">Section 3.5: Measuring Political Polarization</a></li>
      <li><a href="#section-3-6-summarizing-bivariate-relationships">Section 3.6: Summarizing Bivariate Relationships</a></li>
      <li><a href="#section-3-7-clustering">Section 3.7: Clustering</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jeffey Arnold, Kosuke Imai, Tyler Simko.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
